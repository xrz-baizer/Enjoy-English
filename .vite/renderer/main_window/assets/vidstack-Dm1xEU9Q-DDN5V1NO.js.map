{"version":3,"file":"vidstack-Dm1xEU9Q-DDN5V1NO.js","sources":["../../../../node_modules/@vidstack/react/prod/chunks/vidstack-Dm1xEU9Q.js"],"sourcesContent":["\"use client\"\n\nconst videoIdRE = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)(?:\\/shorts)?\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nconst posterCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveYouTubeVideoId(src) {\n  return src.match(videoIdRE)?.[1];\n}\nasync function findYouTubePoster(videoId, abort) {\n  if (posterCache.has(videoId)) return posterCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  const pending = new Promise(async (resolve) => {\n    const sizes = [\"maxresdefault\", \"sddefault\", \"hqdefault\"];\n    for (const size of sizes) {\n      for (const webp of [true, false]) {\n        const url = resolveYouTubePosterURL(videoId, size, webp), response = await fetch(url, {\n          mode: \"no-cors\",\n          signal: abort.signal\n        });\n        if (response.status < 400) {\n          posterCache.set(videoId, url);\n          resolve(url);\n          return;\n        }\n      }\n    }\n  }).catch(() => \"\").finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, pending);\n  return pending;\n}\nfunction resolveYouTubePosterURL(videoId, size, webp) {\n  const type = webp ? \"webp\" : \"jpg\";\n  return `https://i.ytimg.com/${webp ? \"vi_webp\" : \"vi\"}/${videoId}/${size}.${type}`;\n}\n\nexport { findYouTubePoster, resolveYouTubeVideoId };\n"],"names":["videoIdRE","posterCache","pendingFetch","resolveYouTubeVideoId","src","findYouTubePoster","videoId","abort","pending","resolve","sizes","size","webp","url","resolveYouTubePosterURL"],"mappings":"AAEA,MAAMA,EAAY,+HACZC,EAA8B,IAAI,IAClCC,EAA+B,IAAI,IACzC,SAASC,EAAsBC,EAAK,CAClC,OAAOA,EAAI,MAAMJ,CAAS,IAAI,CAAC,CACjC,CACA,eAAeK,EAAkBC,EAASC,EAAO,CAC/C,GAAIN,EAAY,IAAIK,CAAO,EAAG,OAAOL,EAAY,IAAIK,CAAO,EAC5D,GAAIJ,EAAa,IAAII,CAAO,EAAG,OAAOJ,EAAa,IAAII,CAAO,EAC9D,MAAME,EAAU,IAAI,QAAQ,MAAOC,GAAY,CAC7C,MAAMC,EAAQ,CAAC,gBAAiB,YAAa,WAAW,EACxD,UAAWC,KAAQD,EACjB,UAAWE,IAAQ,CAAC,GAAM,EAAK,EAAG,CAChC,MAAMC,EAAMC,EAAwBR,EAASK,EAAMC,CAAI,EAIvD,IAJqE,MAAM,MAAMC,EAAK,CACpF,KAAM,UACN,OAAQN,EAAM,MACxB,CAAS,GACY,OAAS,IAAK,CACzBN,EAAY,IAAIK,EAASO,CAAG,EAC5BJ,EAAQI,CAAG,EACX,MACF,CACF,CAEJ,CAAC,EAAE,MAAM,IAAM,EAAE,EAAE,QAAQ,IAAMX,EAAa,OAAOI,CAAO,CAAC,EAC7D,OAAAJ,EAAa,IAAII,EAASE,CAAO,EAC1BA,CACT,CACA,SAASM,EAAwBR,EAASK,EAAMC,EAAM,CAEpD,MAAO,uBAAuBA,EAAO,UAAY,IAAI,IAAIN,CAAO,IAAIK,CAAI,IAD3DC,EAAO,OAAS,KACmD,EAClF","x_google_ignoreList":[0]}